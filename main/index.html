<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>FractionCalc</title>
</head>
<body>
    <div class="ribbon">
      <div class="dropdown">
        <button>Mode</button>
        <div class="dropdown-menu">
          <button data-mode="operate">Operate Fractions</button>
          <button data-mode="convert">Mixed ↔ Improper</button>
          <button data-mode="decimal">Fraction → Decimal</button>
          <button data-mode="fraction">Decimal → Fraction</button>
          <button data-mode="simplify">Simplify Fraction</button>
        </div>
      </div>
      <div class="dropdown">
        <button>Options</button>
        <div class="dropdown-menu">
         <button id="toggle-theme-btn">Toggle Theme</button>
         <button id="upload-bg-btn">Change Wallpaper...</button>
         <input type="file" id="bg-upload" accept="image/*" style="display: none;">
         <button id="reset-bg-btn">Reset to Default</button>
         <button id="change-accent-btn">Change Accent Color...</button>
         <input type="color" id="accent-color-picker" style="display: none;">
         <button id="open-opacity-modal-btn">Adjust Element Opacity...</button>
         <button id="toggle-lang-btn">Switch Language</button>
        </div>
      </div>
      <div class="dropdown">
        <button>Help</button>
        <div class="dropdown-menu">
          <button id="about-btn">About</button>
          <button id="docs-btn">Documentation</button> </div>
      </div>
      <div class="dropdown">
        <button>View</button>
        <div class="dropdown-menu">
          <button id="fullscreen-btn">Toggle Full Screen</button>
        </div>
      </div>
    </div>

    <div class="container">
        <div id="operate-section" class="panel show">
            <label for="fraction-count">How many fractions?</label>
            <select id="fraction-count">
                <option value="2" selected>2</option>
                <option value="3">3</option>
                <option value="4">4</option>
            </select>
            <div class="fraction" id="fraction1">
                <input type="number" id="whole1" placeholder="Whole" class="input small">
                <div class="slash"> </div>
                <input type="number" id="num1" placeholder="Numerator" class="input">
                <span class="sep">/</span>
                <input type="number" id="den1" placeholder="Denominator" class="input">
            </div>
            <div class="fraction" id="fraction2">
                <input type="number" id="whole2" placeholder="Whole" class="input small">
                <div class="slash"> </div>
                <input type="number" id="num2" placeholder="Numerator" class="input">
                <span class="sep">/</span>
                <input type="number" id="den2" placeholder="Denominator" class="input">
            </div>
            <div class="fraction" id="fraction3" hidden>
                <input type="number" id="whole3" placeholder="Whole" class="input small">
                <div class="slash"> </div>
                <input type="number" id="num3" placeholder="Numerator" class="input">
                <span class="sep">/</span>
                <input type="number" id="den3" placeholder="Denominator" class="input">
            </div>
            <div class="fraction" id="fraction4" hidden>
                <input type="number" id="whole4" placeholder="Whole" class="input small">
                <div class="slash"> </div>
                <input type="number" id="num4" placeholder="Numerator" class="input">
                <span class="sep">/</span>
                <input type="number" id="den4" placeholder="Denominator" class="input">
            </div>
            <select id="operator">
                <option value="+">+</option>
                <option value="-">-</option>
                <option value="*">x</option>
                <option value="/">÷</option>
            </select>
            <div class="row align-center">
                <button id="calc-btn" class="btn">Calculate</button>
            </div>
                <label class="label-checkbox">
                    <input type="checkbox" id="show-explanation-checkbox"> Show Explanation
                </label>
            <div id="result"></div>
            <div id="explanation-box" class="explanation-box"></div>
        </div>

        <div id="convert-section" class="panel">
          <div class="row align-center">
            <label class="label-checkbox">
              <input type="checkbox" id="toggle-convert-mode"> Convert Improper ↔ Mixed
            </label>
          </div>
          <div class="fraction">
            <input type="number" id="conv_whole" placeholder="Whole" class="input small">
            <div class="slash"> </div>
            <input type="number" id="conv_num" placeholder="Numerator" class="input">
            <span class="sep">/</span>
            <input type="number" id="conv_den" placeholder="Denominator" class="input">
          </div>
          <button id="btn-convert-mixed" class="btn">Convert</button>
          <div id="convert-result"></div>
        </div>

        <div id="decimal-section" class="panel">
          <div class="fraction">
            <input type="number" id="dec_num" placeholder="Numerator" class="input">
            <span class="sep">/</span>
            <input type="number" id="dec_den" placeholder="Denominator" class="input">
          </div>
          <button id="btn-frac-to-dec" class="btn">To Decimal</button>
          <div id="decimal-result"></div>
        </div>

        <div id="fraction-section" class="panel">
          <input type="number" id="dec_input_fraction" placeholder="Enter a decimal..." class="input wide">
          <button id="btn-dec-to-frac" class="btn">Convert to Fraction</button>
          <div id="decimal-to-fraction-result"></div>
        </div>

        <div id="simplify-section" class="panel">
          <div class="fraction">
            <input type="number" id="simp_num" placeholder="Numerator" class="input">
            <span class="sep">/</span>
            <input type="number" id="simp_den" placeholder="Denominator" class="input">
          </div>
          <button id="btn-simplify" class="btn">Simplify</button>
          <div id="simplify-result"></div>
        </div>

        <div id="opacity-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <span class="close" id="opacity-close-btn">&times;</span>
                <h4>Set Container Opacity</h4>
                <input type="range" id="opacity-slider" min="0" max="1" step="0.05">
            </div>
        </div>

        <div id="history-modal" class="modal" style="display:none;">
          <div class="modal-content" style="min-width:340px;max-width:95vw;">
            <span class="close" id="history-close-btn">&times;</span>
            <h4>Calculation History</h4>
            <div id="history-list" style="max-height:350px;overflow-y:auto;margin-top:18px;text-align:left;"></div>
            <button id="clear-history-btn" class="btn" style="margin-top:18px;">Clear History</button>
          </div>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>